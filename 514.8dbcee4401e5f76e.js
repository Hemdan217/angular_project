"use strict";(self.webpackChunksotre=self.webpackChunksotre||[]).push([[514],{5514:(J,_,d)=>{d.r(_),d.d(_,{AdminModule:()=>I});var l=d(5972),c=d(6895),p=d(6217),h=d(529),s=d(433),t=d(1571);function T(n,o){1&n&&(t.TgZ(0,"span"),t._uU(1,"Plaese Enter Product Name"),t.qZA())}function x(n,o){1&n&&(t.TgZ(0,"span"),t._uU(1,"Product Name must be longer than 3 characters"),t.qZA())}function C(n,o){1&n&&(t.TgZ(0,"span"),t._uU(1,"Plaese Enter Product price"),t.qZA())}function q(n,o){1&n&&(t.TgZ(0,"span"),t._uU(1,"Product price must be lower Than 1"),t.qZA())}const Z=function(n){return{"is-invalid":n}};let b=(()=>{class n{constructor(e,r){this.dialogRef=e,this.product=r}close(){this.dialogRef.close()}save(){console.log(this.product),this.close()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.so),t.Y36(l.WI))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-editProduct"]],decls:29,vars:12,consts:[[1,"text-center",2,"border-radius","5px 2px"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"text-center",2,"width","100%"],["editForm","ngForm"],[1,"form-group","row","mb-2"],["for","name",1,"col-md-2","col-form-label"],[1,"col-md-8"],["type","text","id","name","name","name","placeholder","Product Name (required)","required","","minlength","3",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["nameInput","ngModel"],[1,"invalid-feedback"],[4,"ngIf"],["for","price",1,"col-md-2","col-form-label"],["type","number","id","price","name","price","min","1","placeholder","Product price (required)","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["priceInput","ngModel"],["mat-dialog-actions",""],["mat-button","",1,"btn","btn-primary","m-2",3,"click"],["mat-button","",1,"btn","btn-danger","m-2",3,"click"]],template:function(e,r){if(1&e&&(t.TgZ(0,"div",0)(1,"h3",1),t._uU(2,"Edit Product"),t.qZA(),t.TgZ(3,"div",2)(4,"form",3,4)(6,"div",5)(7,"label",6),t._uU(8,"Name"),t.qZA(),t.TgZ(9,"div",7)(10,"input",8,9),t.NdJ("ngModelChange",function(i){return r.product.name=i}),t.qZA(),t.TgZ(12,"span",10),t.YNc(13,T,2,0,"span",11),t.YNc(14,x,2,0,"span",11),t.qZA()()(),t.TgZ(15,"div",5)(16,"label",12),t._uU(17,"Price"),t.qZA(),t.TgZ(18,"div",7)(19,"input",13,14),t.NdJ("ngModelChange",function(i){return r.product.price=i}),t.qZA(),t.TgZ(21,"span",10),t.YNc(22,C,2,0,"span",11),t.YNc(23,q,2,0,"span",11),t.qZA()()()()(),t.TgZ(24,"div",15)(25,"button",16),t.NdJ("click",function(){return r.save()}),t._uU(26,"Save"),t.qZA(),t.TgZ(27,"button",17),t.NdJ("click",function(){return r.close()}),t._uU(28,"Cancel"),t.qZA()()()),2&e){const a=t.MAs(11),i=t.MAs(20);t.xp6(10),t.Q6J("ngModel",r.product.name)("ngClass",t.VKq(8,Z,(a.touched||a.dirty)&&a.invalid)),t.xp6(3),t.Q6J("ngIf",null==a.errors?null:a.errors.required),t.xp6(1),t.Q6J("ngIf",null==a.errors?null:a.errors.minlength),t.xp6(5),t.Q6J("ngModel",r.product.price)("ngClass",t.VKq(10,Z,(i.touched||i.dirty)&&i.invalid)),t.xp6(3),t.Q6J("ngIf",null==i.errors?null:i.errors.required),t.xp6(1),t.Q6J("ngIf",null==i.errors?null:i.errors.min)}},dependencies:[c.mk,c.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.Q7,s.wO,s.qQ,s.On,s.F,l.uh,l.xY,l.H8]}),n})();var u=d(1261);let f=(()=>{class n{constructor(e){this.httpClient=e}getAllProducts(){return this.httpClient.get(`${u.N.baseAPIURL}/products`)}editProduct(e){return this.httpClient.get(`${u.N.baseAPIURL}/products/${e}`)}deleteProduct(e){return this.httpClient.delete(`${u.N.baseAPIURL}/products/${e}`)}getAllOrders(){return this.httpClient.get(`${u.N.baseAPIURL}/orders`)}approveOrder(e){return this.httpClient.get(`${u.N.baseAPIURL}/orders/${e.id}`)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(h.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function v(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"tr")(2,"th",5),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9,"0"),t.qZA(),t.TgZ(10,"td")(11,"button",6),t.NdJ("click",function(){const i=t.CHM(e).$implicit,g=t.oxw(2);return t.KtG(g.edit(i))}),t._UZ(12,"i",7),t.qZA()(),t.TgZ(13,"td")(14,"button",6),t.NdJ("click",function(){const i=t.CHM(e).$implicit,g=t.oxw(2);return t.KtG(g.remove(i.id))}),t._UZ(15,"i",8),t.qZA()()(),t.BQk()}if(2&n){const e=o.$implicit;t.xp6(3),t.Oqu(e.id),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.price)}}function U(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",1)(2,"table",2)(3,"thead")(4,"tr")(5,"th",3),t._uU(6,"#"),t.qZA(),t.TgZ(7,"th",3),t._uU(8,"Name"),t.qZA(),t.TgZ(9,"th",3),t._uU(10,"Price"),t.qZA(),t.TgZ(11,"th",3),t._uU(12,"Sold"),t.qZA(),t.TgZ(13,"th",3),t._uU(14,"Edit"),t.qZA(),t.TgZ(15,"th",3),t._uU(16,"Remove"),t.qZA()()(),t.TgZ(17,"tbody"),t.YNc(18,v,16,3,"ng-container",4),t.qZA()()(),t.BQk()),2&n){const e=t.oxw();t.xp6(18),t.Q6J("ngForOf",e.allProducts)}}let m=(()=>{class n{constructor(e,r){this.admin=e,this.dialogModel=r,this.allProducts=[]}ngOnInit(){this.loadData()}edit(e){this.dialogModel.open(b,{restoreFocus:!0,width:"600px",data:e}).afterClosed().subscribe(a=>{this.loadData()})}remove(e){this.admin.deleteProduct(e).subscribe(()=>{this.loadData()})}loadData(){this.admin.getAllProducts().subscribe(e=>{this.allProducts=e})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f),t.Y36(l.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-products-dash"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"list-group","text-center"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"btn",3,"click"],[1,"fas","fa-edit"],[1,"fas","fa-remove"]],template:function(e,r){1&e&&t.YNc(0,U,19,1,"ng-container",0),2&e&&t.Q6J("ngIf",r.allProducts.length)},dependencies:[c.sg,c.O5]}),n})();function P(n,o){if(1&n&&(t.TgZ(0,"li",14)(1,"a",15),t._uU(2),t.ALo(3,"uppercase"),t.qZA()()),2&n){const e=o.$implicit;t.xp6(1),t.s9C("routerLink",e),t.xp6(1),t.Oqu(t.lcZ(3,2,e||"Home"))}}let O=(()=>{class n{constructor(){this.routes=["home","products","client","orders"]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-dashboard"]],decls:31,vars:1,consts:[[1,"d-flex","flex-column","flex-shrink-0","p-3","text-bg-dark",2,"width","280px"],["href","/",1,"d-flex","align-items-center","mb-3","mb-md-0","me-md-auto","text-white","text-decoration-none"],["width","40","height","32",1,"bi","pe-none","me-2"],[0,"xlink","href","#bootstrap"],[1,"fs-4"],[1,"fa","fa-dashboard"],[1,"nav","nav-pills","flex-column","mb-auto"],["class","nav-item text-center mb-2",4,"ngFor","ngForOf"],[1,"dropdown","text-center","mx-auto"],["routerLink","home","data-bs-toggle","dropdown","aria-expanded","false",1,"d-flex","align-items-center","text-white","text-decoration-none","dropdown-toggle"],["src","./assets/admin.png","alt","","width","40","height","40",1,"rounded-circle","me-2"],[1,"dropdown-menu","dropdown-menu-dark","text-small","shadow"],["routerLink","home",1,"dropdown-item"],[1,"dropdown-divider"],[1,"nav-item","text-center","mb-2"],["routerLinkActive","test",1,"nav-link","text-white",3,"routerLink"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"a",1),t.O4$(),t.TgZ(2,"svg",2),t._UZ(3,"use",3),t.qZA(),t.kcU(),t.TgZ(4,"span",4),t._UZ(5,"i",5),t._uU(6," Dashboard"),t.qZA()(),t._UZ(7,"hr"),t.TgZ(8,"ul",6),t.YNc(9,P,4,4,"li",7),t.qZA(),t._UZ(10,"hr"),t.TgZ(11,"div",8)(12,"a",9),t._UZ(13,"img",10),t.TgZ(14,"strong"),t._uU(15,"Admin"),t.qZA()(),t.TgZ(16,"ul",11)(17,"li")(18,"a",12),t._uU(19,"New project..."),t.qZA()(),t.TgZ(20,"li")(21,"a",12),t._uU(22,"Settings"),t.qZA()(),t.TgZ(23,"li")(24,"a",12),t._uU(25,"Profile"),t.qZA()(),t.TgZ(26,"li"),t._UZ(27,"hr",13),t.qZA(),t.TgZ(28,"li")(29,"a",12),t._uU(30,"Sign out"),t.qZA()()()()()),2&e&&(t.xp6(9),t.Q6J("ngForOf",r.routes))},dependencies:[c.sg,p.rH,p.Od,c.gd],styles:[".test[_ngcontent-%COMP%]{background-color:#ff9d00;border-radius:5px}"]}),n})(),D=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-main-dash"]],decls:9,vars:0,consts:[[1,"container-fluid"],[1,"row"],[1,"col-3"],[1,"col-8"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"div",1),t.TgZ(2,"div",1)(3,"div")(4,"div",1)(5,"div",2),t._UZ(6,"app-dashboard"),t.qZA(),t.TgZ(7,"div",3),t._UZ(8,"router-outlet"),t.qZA()()()()())},dependencies:[p.lC,O]}),n})();function N(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"td")(1,"button",8),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit,i=t.oxw(2);return t.KtG(i.approve(a))}),t._UZ(2,"i",9),t.qZA()()}}function w(n,o){if(1&n&&(t.TgZ(0,"tr")(1,"th",6),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.YNc(13,N,3,0,"td",7),t.qZA()),2&n){const e=t.oxw().$implicit;t.oxw(2);const r=t.MAs(2);t.xp6(2),t.Oqu(e.id),t.xp6(2),t.Oqu(e.firstName),t.xp6(2),t.Oqu(e.lastName),t.xp6(2),t.Oqu(e.total),t.xp6(2),t.Oqu(e.address),t.xp6(2),t.Oqu(e.status),t.xp6(1),t.Q6J("ngIf","pending"==e.status)("ngIfElse",r)}}function k(n,o){if(1&n&&(t.ynx(0),t.YNc(1,w,14,8,"tr",0),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e.firstName)}}function M(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",2)(2,"table",3)(3,"thead")(4,"tr")(5,"th",4),t._uU(6,"#"),t.qZA(),t.TgZ(7,"th",4),t._uU(8,"First Name"),t.qZA(),t.TgZ(9,"th",4),t._uU(10,"Last Name"),t.qZA(),t.TgZ(11,"th",4),t._uU(12,"Total"),t.qZA(),t.TgZ(13,"th",4),t._uU(14,"Address"),t.qZA(),t.TgZ(15,"th",4),t._uU(16,"Status"),t.qZA(),t.TgZ(17,"th",4),t._uU(18,"Action"),t.qZA()()(),t.TgZ(19,"tbody"),t.YNc(20,k,2,1,"ng-container",5),t.qZA()()(),t.BQk()),2&n){const e=t.oxw();t.xp6(20),t.Q6J("ngForOf",e.allOrders)}}function F(n,o){1&n&&(t.TgZ(0,"p"),t._uU(1,"No Action"),t.qZA())}let A=(()=>{class n{constructor(e){this.admin=e,this.allOrders=[]}ngOnInit(){this.loadData()}approve(e){this.admin.approveOrder(e).subscribe(()=>{this.loadData()})}loadData(){this.admin.getAllOrders().subscribe(e=>{this.allOrders=e})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-orders-dash"]],decls:3,vars:1,consts:[[4,"ngIf"],["noAction",""],[1,"list-group","text-center"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[4,"ngIf","ngIfElse"],[1,"btn",3,"click"],[1,"fas","fa-edit"]],template:function(e,r){1&e&&(t.YNc(0,M,21,1,"ng-container",0),t.YNc(1,F,2,0,"ng-template",null,1,t.W1O)),2&e&&t.Q6J("ngIf",r.allOrders.length)},dependencies:[c.sg,c.O5]}),n})();const y=[{path:"",component:D,title:"Admin DashBoard",children:[{path:"",component:m,title:"Admin DashBoard"},{path:"products",component:m,title:"Admin DashBoard"},{path:"home",component:m,title:"Admin DashBoard"},{path:"orders",component:A,title:"Orders DashBoard"},{path:"client",component:A,title:"Orders DashBoard"}]}];let I=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[{provide:l.Bq,useValue:{hasBackdrop:!0}}],imports:[c.ez,p.Bz.forChild(y),h.JF,s.UX,s.u5,l.Is]}),n})()}}]);